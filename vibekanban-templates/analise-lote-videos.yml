# Template VibeKanban: AnÃ¡lise em Lote de VÃ­deos Instagram
# VersÃ£o: 1.0.0
# DescriÃ§Ã£o: Template para anÃ¡lise de mÃºltiplos vÃ­deos com comparaÃ§Ã£o e insights

name: "AnÃ¡lise em Lote de VÃ­deos Instagram"
description: "Analisa mÃºltiplos vÃ­deos do Instagram e gera relatÃ³rio comparativo"
version: "1.0.0"
author: "Instagram Video Analyzer Team"
tags: ["instagram", "batch", "analysis", "comparison", "ai"]

# VariÃ¡veis do template
variables:
  - name: "video_urls"
    description: "Lista de URLs dos vÃ­deos (uma por linha)"
    type: "text"
    required: true
    validation:
      min_lines: 2
      max_lines: 10
      pattern: "^https?://(www\\.)?(instagram\\.com|instagr\\.am)/.+"
    
  - name: "project_name"
    description: "Nome do projeto/campanha"
    type: "string"
    required: true
    default: "AnÃ¡lise Comparativa"
    
  - name: "analysis_focus"
    description: "Foco da anÃ¡lise comparativa"
    type: "select"
    required: false
    default: "comprehensive"
    options:
      - value: "comprehensive"
        label: "AnÃ¡lise Completa"
      - value: "content_strategy"
        label: "EstratÃ©gia de ConteÃºdo"
      - value: "engagement_patterns"
        label: "PadrÃµes de Engajamento"
      - value: "visual_trends"
        label: "TendÃªncias Visuais"
      - value: "audio_analysis"
        label: "AnÃ¡lise de Ãudio"
    
  - name: "comparison_criteria"
    description: "CritÃ©rios de comparaÃ§Ã£o"
    type: "multiselect"
    required: false
    default: ["themes", "visual_style", "engagement"]
    options:
      - value: "themes"
        label: "Temas e Mensagens"
      - value: "visual_style"
        label: "Estilo Visual"
      - value: "engagement"
        label: "Potencial de Engajamento"
      - value: "production_quality"
        label: "Qualidade de ProduÃ§Ã£o"
      - value: "target_audience"
        label: "PÃºblico-Alvo"
      - value: "call_to_action"
        label: "Call-to-Action"

# Tarefas do workflow
tasks:
  - id: "parse_urls"
    name: "Processar Lista de URLs"
    description: "Valida e organiza a lista de URLs fornecida"
    agent: "claude-code"
    priority: "high"
    estimated_duration: "1min"
    
    prompt: |
      Processe e valide esta lista de URLs do Instagram:
      
      ```
      {{video_urls}}
      ```
      
      **Tarefas:**
      1. ğŸ” Validar cada URL
      2. ğŸ·ï¸ Extrair IDs Ãºnicos dos vÃ­deos
      3. ğŸ“‹ Criar lista estruturada
      4. âŒ Identificar URLs invÃ¡lidas
      5. ğŸ“Š Gerar estatÃ­sticas da lista
      
      **Formato de SaÃ­da:**
      ```json
      {
        "valid_urls": [
          {
            "id": "video_1",
            "url": "https://instagram.com/reel/...",
            "type": "reel"
          }
        ],
        "invalid_urls": [],
        "total_count": 5,
        "valid_count": 5,
        "invalid_count": 0
      }
      ```
      
      Use o MCP server para validar cada URL:
      ```
      get_video_info(url)
      ```
      
      Salve como: `urls_{{project_name | slug}}.json`
    
    outputs:
      - name: "url_list"
        description: "Lista estruturada de URLs"
      - name: "validation_stats"
        description: "EstatÃ­sticas de validaÃ§Ã£o"

  - id: "analyze_all_videos"
    name: "Analisar Todos os VÃ­deos"
    description: "Executa anÃ¡lise individual de cada vÃ­deo"
    agent: "claude-code"
    depends_on: ["parse_urls"]
    priority: "high"
    estimated_duration: "5-15min"
    
    prompt: |
      Execute anÃ¡lise individual para cada vÃ­deo vÃ¡lido da lista:
      
      **URLs para Analisar:**
      {{parse_urls.url_list}}
      
      **ConfiguraÃ§Ã£o:**
      - Tipo de anÃ¡lise: {{analysis_focus}}
      - Projeto: {{project_name}}
      
      **Processo:**
      Para cada URL na lista:
      
      1. ğŸš€ Iniciar anÃ¡lise:
         ```
         analyze_instagram_video(
           url=video_url,
           analysis_type="{{analysis_focus}}"
         )
         ```
      
      2. â³ Monitorar progresso:
         ```
         get_job_status(job_id)
         ```
      
      3. ğŸ“Š Coletar resultados
      4. ğŸ’¾ Salvar resultado individual
      5. ğŸ“ˆ Atualizar progresso geral
      
      **Log de Progresso:**
      - VÃ­deo 1/N: [Status] - [Tempo]
      - VÃ­deo 2/N: [Status] - [Tempo]
      - ...
      
      **Tratamento de Erros:**
      - Se um vÃ­deo falhar, continue com os outros
      - Registre falhas para revisÃ£o
      - Mantenha log detalhado
      
      Crie arquivo: `progresso_{{project_name | slug}}.md`
    
    outputs:
      - name: "analysis_results"
        description: "Resultados de todas as anÃ¡lises"
      - name: "job_ids"
        description: "Lista de job IDs"
      - name: "progress_log"
        description: "Log de progresso"

  - id: "comparative_analysis"
    name: "AnÃ¡lise Comparativa"
    description: "Compara resultados e identifica padrÃµes"
    agent: "claude-code"
    depends_on: ["analyze_all_videos"]
    priority: "high"
    estimated_duration: "3-5min"
    
    prompt: |
      Execute anÃ¡lise comparativa dos vÃ­deos analisados:
      
      **Dados de Entrada:**
      {{analyze_all_videos.analysis_results}}
      
      **CritÃ©rios de ComparaÃ§Ã£o:**
      {{comparison_criteria}}
      
      **AnÃ¡lise Comparativa:**
      
      ## ğŸ“Š VisÃ£o Geral
      - Total de vÃ­deos analisados: [N]
      - VÃ­deos com anÃ¡lise completa: [N]
      - Tempo total de processamento: [tempo]
      
      ## ğŸ¯ ComparaÃ§Ã£o por CritÃ©rios
      
      ### Temas e Mensagens
      - Temas mais comuns: [lista]
      - Mensagens principais: [anÃ¡lise]
      - VariaÃ§Ãµes por vÃ­deo: [comparaÃ§Ã£o]
      
      ### Estilo Visual
      - PadrÃµes visuais identificados: [lista]
      - Qualidade de produÃ§Ã£o: [comparaÃ§Ã£o]
      - Elementos visuais Ãºnicos: [anÃ¡lise]
      
      ### Potencial de Engajamento
      - Fatores de engajamento: [anÃ¡lise]
      - Elementos que geram interesse: [lista]
      - RecomendaÃ§Ãµes: [insights]
      
      ## ğŸ† Rankings e Destaques
      
      ### Melhor Performance por Categoria
      1. **Melhor ConteÃºdo**: [vÃ­deo + justificativa]
      2. **Melhor ProduÃ§Ã£o**: [vÃ­deo + justificativa]
      3. **Mais Inovador**: [vÃ­deo + justificativa]
      
      ## ğŸ“ˆ TendÃªncias Identificadas
      - TendÃªncia 1: [descriÃ§Ã£o + evidÃªncias]
      - TendÃªncia 2: [descriÃ§Ã£o + evidÃªncias]
      - TendÃªncia 3: [descriÃ§Ã£o + evidÃªncias]
      
      ## ğŸ’¡ Insights EstratÃ©gicos
      - Insight 1: [descriÃ§Ã£o + aplicaÃ§Ã£o]
      - Insight 2: [descriÃ§Ã£o + aplicaÃ§Ã£o]
      - Insight 3: [descriÃ§Ã£o + aplicaÃ§Ã£o]
      
      ## ğŸ¯ RecomendaÃ§Ãµes
      ### Para CriaÃ§Ã£o de ConteÃºdo
      - [RecomendaÃ§Ã£o especÃ­fica]
      - [RecomendaÃ§Ã£o especÃ­fica]
      
      ### Para EstratÃ©gia
      - [RecomendaÃ§Ã£o estratÃ©gica]
      - [RecomendaÃ§Ã£o estratÃ©gica]
      
      Salve como: `analise_comparativa_{{project_name | slug}}.md`
    
    outputs:
      - name: "comparative_report"
        description: "RelatÃ³rio comparativo completo"
      - name: "key_insights"
        description: "Principais insights"
      - name: "recommendations"
        description: "RecomendaÃ§Ãµes estratÃ©gicas"

  - id: "create_dashboard"
    name: "Criar Dashboard Visual"
    description: "Gera dashboard com mÃ©tricas e visualizaÃ§Ãµes"
    agent: "claude-code"
    depends_on: ["comparative_analysis"]
    priority: "medium"
    estimated_duration: "2min"
    
    prompt: |
      Crie um dashboard visual com os resultados da anÃ¡lise:
      
      **Dados:**
      {{comparative_analysis.comparative_report}}
      
      **Dashboard Structure (HTML/CSS):**
      
      ```html
      <!DOCTYPE html>
      <html>
      <head>
          <title>Dashboard - {{project_name}}</title>
          <style>
              /* CSS para dashboard responsivo */
          </style>
      </head>
      <body>
          <header>
              <h1>ğŸ“Š Dashboard - {{project_name}}</h1>
              <p>AnÃ¡lise Comparativa de VÃ­deos Instagram</p>
          </header>
          
          <main>
              <section class="overview">
                  <h2>ğŸ“ˆ VisÃ£o Geral</h2>
                  <!-- MÃ©tricas principais -->
              </section>
              
              <section class="comparison">
                  <h2>ğŸ” ComparaÃ§Ã£o</h2>
                  <!-- Tabelas comparativas -->
              </section>
              
              <section class="insights">
                  <h2>ğŸ’¡ Insights</h2>
                  <!-- Cards com insights -->
              </section>
              
              <section class="recommendations">
                  <h2>ğŸ¯ RecomendaÃ§Ãµes</h2>
                  <!-- Lista de recomendaÃ§Ãµes -->
              </section>
          </main>
      </body>
      </html>
      ```
      
      **Elementos a Incluir:**
      - MÃ©tricas principais em cards
      - Tabela comparativa dos vÃ­deos
      - GrÃ¡ficos de tendÃªncias (ASCII art)
      - Lista de insights principais
      - SeÃ§Ã£o de recomendaÃ§Ãµes
      - Links para relatÃ³rios detalhados
      
      Salve como: `dashboard_{{project_name | slug}}.html`
    
    outputs:
      - name: "dashboard_file"
        description: "Arquivo HTML do dashboard"
      - name: "dashboard_url"
        description: "URL local do dashboard"

  - id: "generate_executive_summary"
    name: "Gerar Resumo Executivo"
    description: "Cria resumo executivo para stakeholders"
    agent: "claude-code"
    depends_on: ["comparative_analysis"]
    priority: "medium"
    estimated_duration: "2min"
    
    prompt: |
      Crie um resumo executivo conciso para stakeholders:
      
      **Dados da AnÃ¡lise:**
      {{comparative_analysis.key_insights}}
      {{comparative_analysis.recommendations}}
      
      **Formato do Resumo Executivo:**
      
      # ğŸ“‹ Resumo Executivo - {{project_name}}
      
      ## ğŸ¯ Objetivo
      AnÃ¡lise comparativa de [N] vÃ­deos do Instagram para identificar padrÃµes, tendÃªncias e oportunidades de melhoria.
      
      ## ğŸ“Š Principais Descobertas
      
      ### ğŸ† Destaques
      - **Melhor Performance**: [vÃ­deo + mÃ©trica]
      - **Maior InovaÃ§Ã£o**: [vÃ­deo + diferencial]
      - **Melhor Engajamento**: [vÃ­deo + fatores]
      
      ### ğŸ“ˆ TendÃªncias Identificadas
      1. **[TendÃªncia 1]**: [Impacto e evidÃªncias]
      2. **[TendÃªncia 2]**: [Impacto e evidÃªncias]
      3. **[TendÃªncia 3]**: [Impacto e evidÃªncias]
      
      ## ğŸ’¡ Insights EstratÃ©gicos
      
      ### Para CriaÃ§Ã£o de ConteÃºdo
      - [Insight acionÃ¡vel]
      - [Insight acionÃ¡vel]
      
      ### Para EstratÃ©gia de Marketing
      - [Insight estratÃ©gico]
      - [Insight estratÃ©gico]
      
      ## ğŸ¯ RecomendaÃ§Ãµes Imediatas
      
      ### Curto Prazo (1-2 semanas)
      - [ ] [AÃ§Ã£o especÃ­fica]
      - [ ] [AÃ§Ã£o especÃ­fica]
      
      ### MÃ©dio Prazo (1-2 meses)
      - [ ] [AÃ§Ã£o estratÃ©gica]
      - [ ] [AÃ§Ã£o estratÃ©gica]
      
      ## ğŸ“Š MÃ©tricas de Sucesso
      - [MÃ©trica 1]: [Valor atual] â†’ [Meta]
      - [MÃ©trica 2]: [Valor atual] â†’ [Meta]
      
      ## ğŸ“ Anexos
      - RelatÃ³rio completo: [link]
      - Dashboard interativo: [link]
      - Dados brutos: [link]
      
      ---
      **Preparado por**: Instagram Video Analyzer AI
      **Data**: [data atual]
      **Projeto**: {{project_name}}
      
      Salve como: `resumo_executivo_{{project_name | slug}}.md`
    
    outputs:
      - name: "executive_summary"
        description: "Resumo executivo"
      - name: "action_items"
        description: "Lista de aÃ§Ãµes recomendadas"

# ConfiguraÃ§Ãµes de notificaÃ§Ã£o
notifications:
  on_start:
    message: "ğŸš€ Iniciando anÃ¡lise em lote: {{project_name}} ({{parse_urls.validation_stats.valid_count}} vÃ­deos)"
    channels: ["slack"]
  
  on_progress:
    message: "â³ Progresso: {{analyze_all_videos.progress_log}}"
    channels: ["slack"]
    frequency: "every_task"
  
  on_complete:
    message: "âœ… AnÃ¡lise em lote concluÃ­da! Dashboard: {{create_dashboard.dashboard_url}}"
    channels: ["slack", "email"]
  
  on_error:
    message: "âŒ Erro na anÃ¡lise em lote: {{error_message}}"
    channels: ["slack"]

# MÃ©tricas especÃ­ficas
metrics:
  - name: "videos_analisados"
    description: "NÃºmero de vÃ­deos analisados com sucesso"
    unit: "count"
  
  - name: "taxa_sucesso_analise"
    description: "Taxa de sucesso das anÃ¡lises"
    unit: "percentage"
  
  - name: "tempo_medio_por_video"
    description: "Tempo mÃ©dio de anÃ¡lise por vÃ­deo"
    unit: "minutes"
  
  - name: "insights_gerados"
    description: "NÃºmero de insights Ãºnicos gerados"
    unit: "count"

# ConfiguraÃ§Ãµes avanÃ§adas
advanced_settings:
  parallel_analysis: true
  max_concurrent_videos: 3
  retry_failed_videos: true
  save_intermediate_results: true
  generate_comparison_matrix: true
